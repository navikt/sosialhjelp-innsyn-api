spring:
  main:
    banner-mode: 'off'
  application:
    name: "sosialhjelp-innsyn-api"
  redis:
    host: ${REDIS_HOST}
    port: 6379

server:
  servlet:
    context-path: '/sosialhjelp/innsyn-api'

# Prometheus
management:
  endpoints:
    web:
      base-path: "/internal"
      exposure:
        include: info, health, metrics, prometheus

#Environment-variabler som settes av NAIS
client:
  fiks_digisos_endpoint_url: ${FIKS_DIGISOS_ENDPOINT_URL}
  fiks_dokumentlager_endpoint_url: ${FIKS_DOKUMENTLAGER_ENDPOINT_URL}
  fiks_svar_ut_endpoint_url: ${FIKS_SVAR_UT_ENDPOINT_URL}
  fiks_integrasjonid: ${INTEGRASJONSID_FIKS}
  fiks_integrasjonid_kommune: ${INTEGRASJONSID_FIKS_KOMMUNE}
  fiks_integrasjonpassord: ${INTEGRASJONPASSORD_FIKS}
  fiks_integrasjonpassord_kommune: ${INTEGRASJONPASSORD_FIKS_KOMMUNE}
  id_porten_token_url: ${ID_PORTEN_TOKEN_URL}
  id_porten_client_id: ${ID_PORTEN_CLIENT_ID}
  id_porten_scope: ${ID_PORTEN_SCOPE}
  id_porten_config_url: ${ID_PORTEN_CONFIG_URL}
  id_porten_default_issuer: ${ID_PORTEN_DEFAULT_ISSUER}
  norg_endpoint_url: ${NORG_ENDPOINT_URL}
  pdl_endpoint_url: ${PDL_ENDPOINT_URL}
  sts_token_endpoint_url: ${STS_TOKEN_ENDPOINT_URL}

#Token-validering
no.nav.security.jwt:
  issuer.selvbetjening:
    discoveryurl: ${AZUREAD_DISCOVERYURL}
    cookie_name: selvbetjening-idtoken
    accepted_audience: ${AZUREAD_CLIENTID}

innsyn:
  vedlegg:
    virusscan:
      enabled: true
  cache:
    redis_mocked: false
    time_to_live_seconds: ${CACHE_TIME_TO_LIVE_SECONDS}
  retry:
    fiks:
      attempts: 5 # number of attempts
      initial_delay: 250 # initial delay in ms
      max_delay: 10000 # max delay in ms
  features:
    vilkar_enabled: ${VILKAR_ENABLED}
    dokumentasjonkrav_enabled: ${DOKUMENTASJONKRAV_ENABLED}